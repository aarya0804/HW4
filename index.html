<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <meta name="Description" content="Boilerplate for polaris chip" />
    <base href="/" />

    <style>
      :root,
      html,
      body {
        margin: 0;
        padding: 0;
        font-family: sans-serif;
        background-color: #ededed;
      }
      polaris-chip {
        margin: 16px;
        --polaris-chip-background-color: azure;
      }

      a {
        margin: 16px;
        color: red;
        background-color: azure;
        padding: 50px;
      }
    </style>
    <title>polaris-chip / my-card</title>
  </head>

  <body>
    <h1>polaris-chip</h1>
    <!-- this is going to do whatever the tag's defaults are -->
    <polaris-chip title="News of Record" link="https://psu.edu/"></polaris-chip>
    <polaris-chip title="Faculty and Staff"></polaris-chip>
    <polaris-chip title="Sports are the only thing that matter"></polaris-chip>
    <polaris-chip title="Grants and donations"></polaris-chip>
    <button id="add">Add Card</button>
    <button class="duplicate">Clone Card</button>
    <button id="name-change">Change name</button>
    <button id="pic-change">Change pic. dm me bruh</button>
    <button id="bg-change">Change background</button>
    <button id="delete">Delete card</button>

    <a href="https://psu.edu/" target="blank">PSU</a>

    <h1>my-card</h1>

    <my-card></my-card>

    <style>
      my-card[fancy] {
        --my-card-fancy-bg: #ff0000;
      }
    </style>
    <my-card title="Minesotta Wild">
      <p>
        A professional hockey team, yet they have terrible colors. I wish I had
        a <strong>AWESOME</strong> neon yellow / lime jersey like their
        retro-reverse jerseys
      </p>
    </my-card>
    <my-card title="Minesotta Wild">
      <p>
        A professional hockey team, yet they have terrible colors. I wish I had
        a <strong>AWESOME</strong> neon yellow / lime jersey like their
        retro-reverse jerseys
      </p>
    </my-card>
    <my-card title="Minesotta Wild">
      <p>
        A professional hockey team, yet they have terrible colors. I wish I had
        a <strong>AWESOME</strong> neon yellow / lime jersey like their
        retro-reverse jerseys
      </p>
    </my-card>

    <!-- this is what is bringing in the definition for this tag -->
    <script type="module" src="./src/polaris-chip.js"></script>
    <script type="module" src="./src/my-card.js"></script>
    <script>
      document
        .querySelector(".duplicate")
        .addEventListener("click", function (event) {
          if (document.querySelector("#cardList").children.length < 10) {
            const newCard = document
              .querySelector("#cardList .card")
              .cloneNode(true);
            // Q1: this is currently appending to the body;
            // how can we append so that it's placed right next to the other card?
            document.body.querySelector("#cardList").appendChild(newCard);
          }
        });

      // Q2: How would we change the title of the card?
      document
        .querySelector("#name-change")
        .addEventListener("click", function (event) {
          document.querySelector(".card .card-title").innerHTML =
            "Guy with a black eye";
        });

      // Q3: How would we change the image of the card on click to https://github.com/elmsln.png
      document
        .querySelector("#pic-change")
        .addEventListener("click", function (event) {
          document.querySelector(".card img").src =
            "https://github.com/elmsln.png";
        });

      // Q4: How would we hook up the button to change the background via a css class?
      document.querySelector("#bg-change").addEventListener("click", (e) => {
        document.querySelector(".card").classList.add("fancy");
      });

      // Q5: How would we delete the last card?
      document.querySelector("#delete").addEventListener("click", (e) => {
        let cardList = document.querySelectorAll(".card");
        if (cardList.length > 1) {
          cardList[cardList.length - 1].remove();
        }
      });
    </script>
  </body>
</html>
